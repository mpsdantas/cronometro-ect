<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Horário Provas</title>

    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="jquery-2.2.0.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
      <script language="JavaScript" type="text/javascript">
          $(document).ready(function() {
            var tempo;
            function startCountdown(){
                if((tempo - 1) >= 0){
                    // Pega a parte inteira dos minutos
                    var min = parseInt(tempo/60);
                    // Calcula os segundos restantes
                    var seg = tempo%60;
                    // Formata o número menor que dez, ex: 08, 07, ...
                    if(min < 10){
                        min = "0"+min;
                        min = min.substr(0, 2);
                    }
                    if(seg <=9){
                        seg = "0"+seg;
                    }
                    // Cria a variável para formatar no estilo hora/cronômetro
                    horaImprimivel = min + ':' + seg;
                    //JQuery pra setar o valor
                    $("#exibir-hora").html(horaImprimivel);
                    // Define que a função será executada novamente em 1000ms = 1 segundo
                    setTimeout(startCountdown, 1000);
                    // diminui o tempo
                    tempo--;
                // Quando o contador chegar a zero faz esta ação
                } else {
                    $("#exibir-hora").html("Fim"); 
                }

            }
              $('.relogio').hide();
              $( "#botao_principal" ).click(function() {
                  var disciplina = document.getElementById('disciplina').value;
                  var professor =  document.getElementById('professor').value;
                  var nome_avaliacao = document.getElementById('nome_avaliacao').value;
                  $('#formulario').hide();
                  $('.relogio').show();
                  $("#exibir-avaliacao").append(nome_avaliacao);
                  $("#exibir-disciplina").append(disciplina);
                  $("#exibir-professor").append(professor);
                  tempo = document.getElementById('tempo').value;
                  tempo = parseInt(tempo);
                  tempo = tempo*60;
                  startCountdown();
              });
          });
      </script>
  </head>
  <body>
      <div class="container">
        <div class="row">
            <br>
            <div class="col-lg-offset-3 col-lg-6">
                <center>
                    <img src="img/ect_logo.png" class="img-responsive">
                </center>

            </div>
        </div>
        <div id="formulario" class="row">
            <div class="col-lg-offset-3 col-lg-6">
                <br>
                <form>
                    <div class="form-group">
                        <label for="disciplina">Disciplina: </label>
                        <input type="text" class="form-control" id="disciplina" placeholder="Nome da disciplina">
                    </div>
                    <div class="form-group">
                        <label for="professor">Professor: </label>
                        <input type="text" class="form-control" id="professor" placeholder="Nome do professor">
                    </div>
                    <div class="form-group">
                        <label for="nome_avaliacao">Nome da avaliação: </label>
                        <input type="text" class="form-control" id="nome_avaliacao" placeholder="Ex: Primeira avalição, Segunda avaliação, Teste, Prova de reposição.">
                    </div>
                    <div class="form-group">
                        <label for="nome_avaliacao">Duração da avaliação:(Em minutos)</label>
                        <input type="text" class="form-control" id="tempo" placeholder="Ex: 120, 60.">
                    </div>
                </form>
                <button id="botao_principal" type="button" class="btn btn-primary btn-block">Iniciar Avaliação</button>
            </div>
        </div>
        <div class="row relogio">
            <div class="row">
                <div class="col-lg-12">
                    <br>
                    <h1 id="exibir-hora" style="text-align: center; font-size: 100px;"></h1>
                    <h1 id="exibir-disciplina" style="text-align: center; font-size: 60px;"></h1>
                    <h3 id="exibir-avaliacao" style="text-align: center; font-size: 35px;"></h3>
                    <h3 id="exibir-professor" style="text-align: center; font-size: 35px;"></h3>
                </div>
            </div>
        </div>
      </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>
